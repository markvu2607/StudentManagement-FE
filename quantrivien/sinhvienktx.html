<div class="row text-center py-3">
    <h3>Danh Sách Sinh Viên Nội Trú</h3>
</div>
<div class="row py-3">
    <div class="col-md-4">
        <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="flexSwitchKTX" onclick="renderSVKTX()">
            <label class="form-check-label" for="flexSwitchKTX">Sinh viên nội trú</label>
        </div>
    </div>
</div>
<div style="background-color: #f5f5f5; border-radius: 7px; border: 1px solid black; margin-top: 50px !important;">
    <table class="table table-hover mt-5 " style="margin-top: 5px !important;">
        <thead>
            <tr>
                <th scope="col">STT</th>
                <th scope="col">Mã SV</th>
                <th scope="col">Họ và tên</th>
                <th scope="col">Giới tính</th>
                <th scope="col">Số điện thoại</th>
            </tr>
        </thead>
        <tbody id="listSVKTX">

        </tbody>
    </table>
</div>

<script>
    const renderSVKTX = () => {
        const kytucxa = document.querySelector("#flexSwitchKTX").checked;
        fetch(`${HOST}/api/sinhvien/thongke/kytucxa?kytucxa=${kytucxa}`)
            .then(res => res.json())
            .then(data => {
                let html = ""
                for (i = 0; i < data.length; i++) {
                    elm = data[i];
                    html += `<tr>
                            <th scope="row">${i+1}</th>
                            <td>${elm.idsv}</td>
                            <td>${elm.tensv}</td>
                            <td>${elm.laNam===1?"Nam":"Nữ"}</td>
                            <td>${elm.sdt}</td>
                        </tr>`
                }
                console.log(html);
                document.querySelector("#listSVKTX").innerHTML = html
            })
            .catch(err => console.log("Error: ", err))
    }
    renderSVKTX()
</script>